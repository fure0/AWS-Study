## MFA
- IAM > Security credentials > Assign FMA device
  - name : test
  - 원하는 방식 선택
  - Next 버튼으로 생성

- AWS에서 어카운트라고 함은 Root 어카운트를 뜻함, 유저랑은 다름. 유저는 IAM 유저
- AWS에서 권한은 Policy(정책)이라는 문서를 만들어서 부여
- 정책은 권한들의 집합을 기록한 JSON문서
- IAM은 최소권한만 부여 하는게 좋다.

## Admin User 만들기
- IAM > Users > Create user
  - User name : admin
  - Next 버튼
  - Set permissions : Attach polices directly
    - AdministratorAccess 체크
  - Next 버튼
  - Create User 버튼으로 생성
- 비밀번호 생성
  - 생성한 Admin유저 선택
  - Security credentials 탭
  - Enable console access 버튼 선택
  - Manage console access 창
    - Console access : Enable
    - Set password : Autogenerated password
    - Apply 버튼으로 생성
    - 패스워드는 메모해두거나 다운로드 해둬야함. 창을 닫으면 다시는 볼 수 없음
- 로그인 해보기
  - Console sign-in link 를 복사하여 브라우저에 붙여넣기
  - 아이디 / 패스워드 입력후 로그인 되는 것을 확인

## 인스턴스를 만드는 권한만 가진 유저 만들기
- IAM > Policy > Create policy
  - Visual 탭
  - ec2 검색 필터
    - RunInstances 체크
    - Resources : All 체크
    - Next 버튼
    - Policy name : LuckyPolicy
    - Create Policy 버튼
- IAM > Users > Create user
  - User name : Luckyuser
  - Next 버튼
  - Set permissions : Attach polices directly
    - LuckyPolicy 체크
  - Next 버튼
  - Create User 버튼으로 생성
- 비밀번호 생성
  - 생성한 Admin유저 선택
  - Security credentials 탭
  - Enable console access 버튼 선택
  - Manage console access 창
    - Console access : Enable
    - Set password : Custom password
    - Apply 버튼으로 생성
- 로그인 해보기
  - Console sign-in link 를 복사하여 브라우저에 붙여넣기
  - 아이디 / 패스워드 입력후 로그인 되는 것을 확인
- EC2 > Instances > Launch an instance
  - Name : LuckyInstance
  - key pair name : Proceed without a key pair (Not recommended)
  - 권한이 없어서 안되는게 엄청 많음
  - Launch instance 버튼 > 설절이 부족해서 안됨
- 권한 추가 하기
- IAM > Policy > LuckyPolicy > Edit policy
  - JSON 탭
  - EC2 검색, tag 검색
    - Create tags 체크
  - EC2 검색, Describe 검색
    - DescribeImages 체크
  - EC2 검색, Describe 검색
    - DescribeVpcs 체크
  - EC2 검색, Describe 검색
    - DescribeSubnets 체크
  - EC2 검색, Describe 검색
    - DescribeSecurityGroups 체크
  - EC2 검색, Describe 검색
    - DescribeInstanceTypes 체크
  - EC2 검색, Describe 검색
    - DescribeInstances 체크
  - EC2 검색, Describe 검색
    - DescribeInstanceStatus 체크
  - EC2 검색, Describe 검색
    - DescribeAddress 체크
  - CloudWatch 검색, Describe 검색
    - DescribeAlarms 체크
  - Next버튼
  - Save changes 버튼
- EC2 > Instances > Launch an instance
  - Name : LuckyInstance
  - key pair name : Proceed without a key pair (Not recommended)
  - Image 자동선택
  - Image type자동 선택
  - Network settings
    - Firewall
    - Select exsisting security group
      - default
  - Launch an instance 버튼
- 하나하나 유저마다 설정하는것은 비효율적이므로 Group을 만들어서 설정한다.
  - IAM > User > luckyuser
  - LuckyPolicy 체크 > Remove 버튼
  - IAM > User groups > Create user group
  - User group name : luckygroup
  - add user
    - luckyuser 체크
  - Attach permissions policies
    - LuckyPolicy 체크